\section{Teorema de Sharkovsky}

Ao longo dessa seção, consideraremos $f: \RR \to \RR$ uma função contínua.
Além disso, escreveremos $I_0 \longrightarrow I_1 \longrightarrow \cdots \longrightarrow I_n$ quando $I_0, \, I_1, \, \dots, \, I_n$ são intervalos fechados e $f(I_k) \supset I_{k+1}$ para todo $0 \leq k < n$.

\begin{lemma}
Se $I_0 \longrightarrow I_1$, então existe um intervalo fechado $I_0' \subset I_0$ tal que $f(I_0') = I_1$.
\end{lemma}

\begin{proof}
Sejam $p, \, q \in [a, b]$ tais que $f(p) = c$ e $f(q) = d$, onde $I_0 = [a, b]$ e $I_1 = [c, d]$.
Se $p \leq q$, definimos $b' = \inf \lbrace x \in [p, q] : f(x) = d \rbrace$ e $a' = \sup \lbrace x \in [p, b'] : f(x) = c \rbrace$ e, pela continuidade de $f$, podemos concluir que $f(I_0') = I_1$, onde $I_0' = [a', b']$.
Se $q \leq p$, a demonstração é análoga.
\end{proof}

\begin{lemma}
Se $I_0 \longrightarrow I_1 \longrightarrow \cdots \longrightarrow I_{n-1} \longrightarrow I_0$, então existe $p \in I_0$ tal que as seguintes condições são válidas:
\begin{enumerate}
\item $f^k(p) \in I_k$ para todo $1 \leq k < n$.
\item $f^n(p) = p$.
\end{enumerate}
\end{lemma}

\begin{proof}
Pelo Lema anterior, podemos construir uma sequência de intervalos fechados $I_0', \, I_1', \, \dots, \, I_{n-1}'$ com as seguintes propriedades:
\begin{enumerate}[label=\alph*.]
\item $I_0 \supset I_0' \supset I_1' \supset \cdots \supset I_{n-1}'$.
\item $f^k(I_{k-1}') = I_k$ para todo $1 \leq k < n$.
\item $f^n(I_{n-1}') = I_0$.
\end{enumerate}

Desse modo, existe $p \in I_{n-1}'$ tal que $f^n(p) = p$.
Em particular, $p \in I_0$ e $f^k(p) \in I_k$ para todo $1 \leq k < n$.
\end{proof}

\begin{theorem}
Se $\per_3(f) \neq \emptyset$ e $n \geq 1$, então $\per_n(f) \neq \emptyset$.
\end{theorem}

\begin{proof}
Sejam $p_1 < p_2 < p_3$ os pontos da órbita de um elemento de $\per_3(f)$ e suponha que $f(p_1) = p_2$ e $f(p_2) = p_3$.
Se $f(p_1) = p_3$ e $f(p_3) = p_2$, a demonstração é análoga.
Definindo $I_0 = [p_1, p_2]$ e $I_1 = [p_2, p_3]$, temos que $I_0 \longrightarrow I_1$, $I_1 \longrightarrow I_0$ e $I_1 \longrightarrow I_1$. Com isso, podemos demonstrar as seguintes afirmações:

\begin{enumerate}[label=\alph*)]
\item $\per_1(f) \neq \emptyset$.

De fato, $I_1 \longrightarrow I_1$ implica que existe $p \in I_1$ tal que $f(p) = p$.

\item $\per_2(f) \neq \emptyset$.

De fato, $I_0 \longrightarrow I_1 \longrightarrow I_0$ implica que existe $p \in I_0$ tal que $f(p) \in I_1$ e $f^2(p) = p$.
Se $f(p) = p$, então $p \in I_0 \cap I_1$, o que é um absurdo pois $I_0 \cap I_1 = \lbrace p_2 \rbrace$ e $p_2 \in \per_3(f)$.

\item $\per_4(f) \neq \emptyset$.

De fato, $I_1 \longrightarrow I_1 \longrightarrow I_1 \longrightarrow I_0 \longrightarrow I_1$ implica que existe $p \in I_1$ tal que $f^k(p) \in I_1$ para todo $1 \leq k < 3$, $f^3(p) \in I_0$ e $f^4(p) = p$.
Se $f^3(p) = p$, então $p \in I_0 \cap I_1$, o que é um absurdo pois $I_0 \cap I_1 = \lbrace p_2 \rbrace$ e $f^2(p_2) = p_1 \notin I_1$.
Se $f^k(p) = p$ para algum $1 \leq k < 3$, então $f^k(p) \in I_1$ para todo $k \geq 1$.
Em particular, $f^3(p) \in I_0 \cap I_1 = \lbrace p_2 \rbrace$ e, portanto, $f^4(p) = p = p_3$, o que é um absurdo pois $f(p_3) = p_1 \notin I_1$.
\end{enumerate}

Por fim, podemos demonstrar de maneira análoga à última afirmação que $\per_n(f) \neq \emptyset$ para todo $n \geq 4$.
\end{proof}

\begin{definition}[Ordenação de Sharkovsky]
$$3 \, \triangleright \, 5 
\, \triangleright \, \cdots \, \triangleright \,
2 \cdot 3 \, \triangleright \, 2 \cdot 5 
\, \triangleright \, \cdots \, \triangleright \,
2^2 \cdot 3 \, \triangleright \, 2^2 \cdot 5
\, \triangleright \, \cdots \, \triangleright \,
2^k \cdot 3 \, \triangleright \, 2^k \cdot 5
\, \triangleright \, \cdots \, \triangleright \,
2^2 \, \triangleright \, 2 \, \triangleright \, 1.$$
\end{definition}

\begin{theorem}[Sharkovsky]
Se $\per_n(f) \neq \emptyset$ e $n \triangleright m$, então $\per_m(f) \neq \emptyset$.
\end{theorem}

\begin{theorem}
Se $n \geq 1$, então existe uma função $f$ com as seguintes propriedades:
\begin{enumerate}
\item $\per_n{f} \neq \emptyset$.
\item $\per_m{f} =  \emptyset$ para todo $m \triangleright n$.
\end{enumerate}
\end{theorem}

\begin{proof}
Seja $T: [0,1] \to [0,1]$ a função dada por
\[ T(x) =
  \begin{cases}
    2x, & x \in \left[ 0, \frac{1}{2} \right] \\
    2 - 2x, & x \in \left[ \frac{1}{2}, 1 \right] \\
  \end{cases}
\]
e considere a família de funções $T_h(x) = \min \lbrace h, T(x) \rbrace$ definidas em $[0,1]$, onde o parâmetro $h$ varia em $[0,1]$.

Inicialmente, observe que $T(x) \leq 1$ para todo $x \in [0,1]$ implica que que $T_1 = T$.
Além disso, é possível provar por indução que $T_1$ possui $2^k$ pontos periódicos de período $k$ para todo $k \geq 1$.
Desse modo, podemos definir
$$h(k) = \min \lbrace \max \lbrace \orbit : \orbit \text{ é uma órbita de tamanho } k \text{ de } T_1 \rbrace \rbrace$$
para todo $k \geq 1$.
A ideia principal da prova consiste no fato de que $h(k)$ desempenha os papéis de parâmetro, máximo e ponto de uma órbita de $T_{h(k)}$. As seguintes afirmações tornarão preciso esse fato:

\begin{enumerate}[label=\alph*)]
\item Se $\orbit \subset [0, h)$ é uma órbita de $T_h$, então $\orbit$ é uma órbita de $T_1$.

Se $p \in \orbit$, então $T_h(p) \in [0, h)$.
Desse modo, $T_h(p) = \min \lbrace h, T(p) \rbrace = T(p) = T_1(p)$.
Assim, $T_h$ e $T_1$ coincidem em $\orbit$ e, portanto, $\orbit$ é uma órbita de $T_1$.

\item Se $\orbit \subset [0, h]$ é uma órbita de $T_1$, então $\orbit$ é uma órbita de $T_h$.

Se $p \in \orbit$, então $T_1(p) \in [0, h]$. Desse modo, $T_h(p) = \min \lbrace h, T_1(p) \rbrace = T_1(p)$.
Assim, $T_h$ e $T_1$ coincidem em $\orbit$ e, portanto, $\orbit$ é uma órbita de $T_h$.

\item $T_{h(k)}$ possui uma órbita $\orbit \subset [0, h(k))$ de tamanho $j$ se, e somente, se $h(k) > h(j)$.

Se $T_{h(k)}$ possui uma órbita $\orbit \subset [0, h(k))$ de tamanho $j$, então $\orbit$ é uma órbita de $T_1$ e, pela definição de $h(j)$, concluímos que $h(k) > h(j)$.
Por outro lado, se $h(k) > h(j)$, então $T_1$ possui uma órbita $\orbit \subset [0, h(j)] \subset [0, h(k)]$ de tamanho $j$ e, desse modo, $\orbit$ é uma órbita de $T_{h(k)}$.

\item A órbita de $T_1$ que contém $h(k)$ é uma órbita de tamanho $k$ de $T_{h(k)}$.
Além disso, todas as outras órbitas de $T_{h(k)}$ estão em $[0, h(k))$. 

Pela definição de $h(k)$, $T_1$ possui uma órbita $\orbit \subset [0, h(k)]$ de tamanho $k$ e, portanto, $\orbit$ é uma órbita de $T_{h(k)}$.

Na segunda parte, basta observar que $h(k)$ é o valor máximo de $T_{h(k)}$ e, desse modo, toda órbita de $T_{h(k)}$ está contida em $[0, h(k)]$.
Em particular, se a órbita não contém $h(k)$, então ela está contida em $[0, h(k))$.

\item $k \, \triangleright \, j$ se, e somente se, $h(k) > h(j)$.

Suponha que $k \, \triangleright \, j$. Sabemos que $T_{h(k)}$ possui uma órbita de tamanho $k$ e, pelo Teorema de Sharkovsky, $T_{h(k)}$ admite uma órbita de tamanho $j$. Em particular, essa órbita está contida em $[0, h(k))$ e, portanto, $h(k) > h(j)$.

Suponha que $h(k) > h(j)$. Se $j \, \triangleright \, k$, então $h(k) < h(j)$ pela demonstração no parágrafo anterior e, portanto, $k \, \triangleright \, j$.
\end{enumerate}

Desse modo, $T_{h(n)}$ possui órbita de tamanho $n$ para cada $n \geq 1$. Além disso, se $m \, \triangleright \, n$ então $h(m) > h(n)$ e, portanto, $T_{h(n)}$ não possui órbita de tamanho $m$.
\end{proof}
